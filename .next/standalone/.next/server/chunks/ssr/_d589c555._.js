module.exports=[87532,a=>{"use strict";let b=(0,a.i(70106).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);a.s(["Search",()=>b],87532)},24987,a=>{"use strict";let b=(0,a.i(70106).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["MapPin",()=>b],24987)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},60702,a=>{"use strict";let b=(0,a.i(70106).default)("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);a.s(["CalendarDays",()=>b],60702)},59628,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(78560),f=a.i(87532),g=a.i(33508),h=a.i(60702);let i=(0,a.i(70106).default)("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);var j=a.i(46842),k=a.i(79808),l=a.i(41710),m=a.i(24987),n=a.i(15618),o=a.i(46271),p=a.i(62036),q=a.i(2084);function r(){let a,r=(0,d.useRouter)(),[s,t]=(0,c.useState)("all"),[u,v]=(0,c.useState)(new Date().toISOString().split("T")[0]),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)("all"),[A,B]=(0,c.useState)([]),[C,D]=(0,c.useState)(!0),[E,F]=(0,c.useState)([]);(0,c.useEffect)(()=>{H(),G()},[]);let G=async()=>{let{data:a}=await e.supabase.from("technicians").select("*").order("full_name");F(a||[])},H=async()=>{D(!0);try{let{data:a,error:b}=await e.supabase.from("service_orders").select("*, clients(full_name, address), technicians(full_name)").order("scheduled_at",{ascending:!0});if(b)throw b;B(a||[])}catch(a){console.error("Error loading services:",a)}finally{D(!1)}},I=(()=>{let a=[],b=new Date;for(let c=-2;c<7;c++){let d=new Date(b);d.setDate(b.getDate()+c);let e=["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"];a.push({day:e[d.getDay()],date:d.getDate(),fullDate:d.toISOString().split("T")[0]})}return a})(),J=A.filter(a=>{if("all"!==s&&a.status!==({active:"IN_PROGRESS",pending:"PENDING",completed:"COMPLETED",new:"NEW"})[s]||u&&a.scheduled_at?.split("T")[0]!==u||"all"!==y&&a.technician_id!==y)return!1;let b=w.toLowerCase();return a.clients?.full_name?.toLowerCase().includes(b)||a.reported_issue?.toLowerCase().includes(b)||a.clients?.address?.toLowerCase().includes(b)}),K=(a={all:0,active:0,pending:0,completed:0,new:0},A.forEach(b=>{b.scheduled_at?.split("T")[0]===u&&(a.all++,"IN_PROGRESS"===b.status&&a.active++,"PENDING"===b.status&&a.pending++,"COMPLETED"===b.status&&a.completed++,"NEW"===b.status&&a.new++)}),a);return(0,b.jsxs)("div",{className:"bg-[#0a0c10] min-h-screen text-white font-sans max-w-5xl mx-auto relative overflow-x-hidden border-x border-white/5 pb-24",children:[(0,b.jsx)(q.default,{title:"Agenda",showBack:!0}),(0,b.jsxs)("div",{className:"pt-8 pb-4 px-6 border-b border-white/5 bg-[#0a0c10]",children:[(0,b.jsxs)("div",{className:"space-y-6 relative z-10",children:[(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)(f.Search,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-700 group-focus-within:text-[#135bec] transition-colors",size:18}),(0,b.jsx)("input",{type:"text",placeholder:"Buscar cliente...",value:w,onChange:a=>x(a.target.value),className:"w-full bg-gray-900/40 border border-white/5 rounded-[1.8rem] py-5 pl-14 pr-12 text-sm text-white placeholder-gray-700 focus:outline-none focus:border-[#135bec]/50 focus:bg-gray-900/80 transition-all shadow-inner"}),w&&(0,b.jsx)("button",{onClick:()=>x(""),className:"absolute right-5 top-1/2 -translate-y-1/2 text-gray-600 hover:text-white transition-colors",children:(0,b.jsx)(g.X,{size:18})})]}),(0,b.jsx)("div",{className:"flex gap-3 overflow-x-auto no-scrollbar py-2 -mx-1 px-1",children:I.map(a=>{let c=u===a.fullDate;return(0,b.jsxs)(o.motion.button,{whileTap:{scale:.95},onClick:()=>v(a.fullDate),className:`shrink-0 flex flex-col items-center justify-center min-w-[68px] h-[90px] rounded-[1.5rem] transition-all duration-500 relative overflow-hidden group border ${c?"bg-[#135bec] border-[#135bec] text-white shadow-[0_15px_30px_rgba(19,91,236,0.25)]":"bg-gray-900/40 border-white/5 text-gray-500 hover:bg-gray-800/60"}`,children:[c&&(0,b.jsx)(o.motion.div,{layoutId:"date-glow",className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent pointer-events-none"}),(0,b.jsx)("span",{className:`text-[9px] font-black uppercase tracking-widest mb-1.5 ${c?"text-white/80":"text-gray-600"}`,children:a.day}),(0,b.jsx)("span",{className:"text-2xl font-black tabular-nums",children:a.date})]},a.fullDate)})})]}),(0,b.jsx)("div",{className:"flex gap-2 overflow-x-auto no-scrollbar py-4 mt-2",children:[{id:"all",label:"Todos",count:K.all},{id:"active",label:"En Ruta",count:K.active},{id:"pending",label:"Pendientes",count:K.pending},{id:"completed",label:"Listos",count:K.completed}].map(a=>(0,b.jsxs)(o.motion.button,{whileTap:{scale:.97},onClick:()=>t(a.id),className:`px-5 py-3 rounded-2xl text-[9px] font-black uppercase tracking-[0.2em] transition-all border shrink-0 flex items-center gap-3 ${s===a.id?"bg-white text-black border-white shadow-lg":"bg-gray-900/60 border-white/5 text-gray-500"}`,children:[a.label,(0,b.jsx)("span",{className:`px-2 py-0.5 rounded-lg text-[8px] ${s===a.id?"bg-black/10":"bg-white/5"}`,children:a.count})]},a.id))})]}),(0,b.jsxs)("main",{className:"p-6 space-y-6",children:[(0,b.jsx)("div",{className:"bg-gray-900/20 border border-white/5 rounded-[2.5rem] p-4 flex items-center justify-between shadow-inner",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"size-10 rounded-2xl bg-[#135bec]/10 flex items-center justify-center text-[#135bec] border border-[#135bec]/20",children:(0,b.jsx)(i,{size:18})}),(0,b.jsxs)("select",{value:y,onChange:a=>z(a.target.value),className:"bg-transparent text-[10px] font-black uppercase tracking-widest text-[#135bec] outline-none cursor-pointer appearance-none pr-6",children:[(0,b.jsx)("option",{value:"all",className:"bg-[#0a0c10]",children:"Flota Completa"}),E.map(a=>(0,b.jsx)("option",{value:a.id,className:"bg-[#0a0c10]",children:a.full_name},a.id))]})]})}),C?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-32 space-y-4",children:[(0,b.jsx)("div",{className:"size-14 border-4 border-[#135bec]/10 border-t-[#135bec] rounded-full animate-spin"}),(0,b.jsx)("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-[#135bec] animate-pulse",children:"Sincronizando..."})]}):0===J.length?(0,b.jsxs)(o.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center py-32 text-gray-700 bg-gray-900/10 border-2 border-dashed border-white/5 rounded-[4rem] text-center px-10",children:[(0,b.jsx)(h.CalendarDays,{size:64,className:"mb-6 opacity-20"}),(0,b.jsx)("h3",{className:"font-black text-lg text-gray-500 tracking-tight mb-2",children:"Sin actividad"})]}):(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsx)(p.AnimatePresence,{children:J.map((a,c)=>{let d=(a=>{switch(a){case"IN_PROGRESS":return{label:"En Proceso",color:"text-[#00ff9d]",bg:"bg-[#00ff9d]/10",border:"border-[#00ff9d]/20"};case"PENDING":return{label:"Pendiente",color:"text-amber-400",bg:"bg-amber-400/10",border:"border-amber-400/20"};case"COMPLETED":return{label:"Listo",color:"text-gray-400",bg:"bg-gray-400/10",border:"border-gray-400/20"};case"DELIVERED":return{label:"Entregado",color:"text-indigo-400",bg:"bg-indigo-400/10",border:"border-indigo-400/20"};default:return{label:a,color:"text-blue-400",bg:"bg-blue-400/10",border:"border-blue-400/20"}}})(a.status);return(0,b.jsxs)(o.motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1*c},onClick:()=>r.push(`/service-orders/${a.id}`),className:"group relative bg-gray-900/30 border border-white/5 rounded-[3rem] p-7 shadow-2xl active:scale-[0.98] transition-all cursor-pointer overflow-hidden hover:bg-gray-900/50 hover:border-[#135bec]/20",children:[(0,b.jsx)("div",{className:`absolute left-0 top-10 bottom-10 w-1.5 rounded-r-full ${d.color.replace("text-","bg-")}`}),(0,b.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:(0,b.jsx)("span",{className:`px-4 py-2 rounded-2xl text-[8px] font-black uppercase tracking-[0.2em] border backdrop-blur-md ${d.bg} ${d.color} ${d.border}`,children:d.label})}),(0,b.jsxs)("div",{className:"flex items-center gap-3 bg-black/40 px-4 py-2 rounded-2xl border border-white/5 text-[9px] font-black text-gray-400 uppercase tracking-widest",children:[(0,b.jsx)(j.User,{size:12,className:"text-[#135bec]"}),a.technicians?.full_name?.split(" ")[0]||"Gral"]})]}),(0,b.jsxs)("div",{className:"flex gap-6 items-center mb-8",children:[(0,b.jsx)("div",{className:"size-16 rounded-[1.5rem] bg-gray-900 border border-white/10 flex items-center justify-center text-[#135bec] shadow-inner group-hover:bg-[#135bec]/10 transition-colors",children:(0,b.jsx)(k.Wrench,{size:32})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h3",{className:"text-xl font-black tracking-tight text-white truncate",children:a.clients?.full_name}),(0,b.jsx)("p",{className:"text-[11px] text-gray-500 font-bold uppercase tracking-[0.1em] truncate italic opacity-80 mt-1",children:a.reported_issue||"Servicio Técnico"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"bg-white/[0.03] rounded-[1.5rem] p-4 border border-white/5 flex items-center gap-4",children:[(0,b.jsx)(l.Clock,{size:16,className:"text-[#135bec]"}),(0,b.jsx)("span",{className:"text-sm font-black text-gray-200 tabular-nums",children:a.scheduled_at?new Date(a.scheduled_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"24/7"})]}),(0,b.jsxs)("div",{className:"bg-white/[0.03] rounded-[1.5rem] p-4 border border-white/5 flex items-center gap-4 overflow-hidden",children:[(0,b.jsx)(m.MapPin,{size:16,className:"text-rose-500"}),(0,b.jsx)("span",{className:"text-xs font-black text-gray-200 truncate",children:a.clients?.address||"Mendoza"})]})]})]},a.id)})})})]}),(0,b.jsx)(o.motion.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>r.push("/new-service"),className:"fixed bottom-8 right-8 size-16 rounded-full bg-[#135bec] text-white shadow-[0_20px_40px_rgba(19,91,236,0.4)] flex items-center justify-center z-[100] border-2 border-white/10",children:(0,b.jsx)(n.Plus,{size:32})})]})}a.s(["default",()=>r,"dynamic",0,"force-dynamic"],59628)}];

//# sourceMappingURL=_d589c555._.js.map