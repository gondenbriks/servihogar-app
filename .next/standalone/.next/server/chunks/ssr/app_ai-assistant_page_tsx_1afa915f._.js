module.exports=[39391,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(5050);let f=(0,e.createServerReference)("6029787df4e36c562fd6aadcec67d07f7b5ecb7a05",e.callServer,void 0,e.findSourceMapURL,"diagnoseService"),g=(0,e.createServerReference)("60bf64311c281730ff482d5e25a31e2a73159bceeb",e.callServer,void 0,e.findSourceMapURL,"chatWithGemini");var h=a.i(13749),i=a.i(82434),j=a.i(92759),k=a.i(4975),l=a.i(8406),m=a.i(67453),n=a.i(41710),o=a.i(83497),p=a.i(85552);let q=(0,a.i(70106).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var r=a.i(90669),s=a.i(73570),t=a.i(46271);function u(){let a=(0,d.useRouter)(),[e,u]=(0,c.useState)("chat"),[v,w]=(0,c.useState)([{id:"welcome",role:"model",text:"Â¡Hola! Soy ServiBot, tu Gerente de Operaciones IA. ðŸ¤–\n\nPuedo ayudarte con:\nðŸ“¦ Consultas de Inventario\nðŸ“… Estado de la Agenda\nðŸ”§ Soporte TÃ©cnico\nðŸ’° Resumen Financiero\n\nÂ¿QuÃ© necesitas saber hoy?",timestamp:new Date}]),[x,y]=(0,c.useState)(""),[z,A]=(0,c.useState)(!1),[B,C]=(0,c.useTransition)(),D=(0,c.useRef)(null),[E,F]=(0,c.useState)({brand:"",model:"",year:""}),[G,H]=(0,c.useState)(""),[I,J]=(0,c.useState)(null),[K,L]=(0,c.useState)(!1);(0,c.useEffect)(()=>{"chat"===e&&D.current?.scrollIntoView({behavior:"smooth"})},[v,e]);let M=async a=>{let b=a||x;if(!b.trim()||z)return;let c={id:Date.now().toString(),role:"user",text:b.trim(),timestamp:new Date};w(a=>[...a,c]),y(""),A(!0);let d=v.map(a=>({role:a.role,parts:[{text:a.text}]}));try{let a=await g(c.text,d),b={id:(Date.now()+1).toString(),role:"model",text:a,timestamp:new Date};w(a=>[...a,b])}catch(b){console.error(b);let a={id:(Date.now()+1).toString(),role:"model",text:"Lo siento, ocurriÃ³ un error al procesar tu solicitud.",timestamp:new Date};w(b=>[...b,a])}finally{A(!1)}},N=async()=>{I&&alert("DiagnÃ³stico guardado en el portapapeles. Pronto podrÃ¡s vincularlo a Ã³rdenes especÃ­ficas.")};return(0,b.jsxs)("div",{className:"bg-[#0a0c10] min-h-screen text-white max-w-4xl mx-auto flex flex-col font-sans relative",children:[(0,b.jsxs)("header",{className:"sticky top-0 z-50 flex items-center justify-between bg-[#0a0c10]/95 backdrop-blur-md p-4 border-b border-gray-800 shadow-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("button",{onClick:()=>a.back(),className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:(0,b.jsx)(h.ChevronLeft,{size:24})}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"size-10 rounded-2xl bg-gradient-to-tr from-[#135bec] to-[#00d4ff] flex items-center justify-center shadow-lg shadow-[#135bec]/20",children:(0,b.jsx)(i.Bot,{size:24,className:"text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-sm font-black tracking-tight leading-none",children:"ServiBot IA"}),(0,b.jsxs)("p",{className:"text-[10px] text-[#00ff9d] font-bold flex items-center gap-1 mt-1 uppercase tracking-widest",children:[(0,b.jsx)("span",{className:"size-1.5 bg-[#00ff9d] rounded-full animate-pulse"}),"Online"]})]})]})]}),(0,b.jsxs)("div",{className:"flex bg-gray-900/50 p-1 rounded-2xl border border-white/5",children:[(0,b.jsx)("button",{onClick:()=>{u("chat"),J(null)},className:`px-4 py-1.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${"chat"===e?"bg-[#135bec] text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,children:"Chat"}),(0,b.jsx)("button",{onClick:()=>u("diagnose"),className:`px-4 py-1.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${"diagnose"===e?"bg-[#135bec] text-white shadow-lg":"text-gray-500 hover:text-gray-300"}`,children:"IA-Expert"})]})]}),(0,b.jsx)("main",{className:"flex-1 overflow-y-auto p-4 space-y-6 pb-32",children:"chat"===e?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"space-y-6",children:v.map((a,c)=>(0,b.jsxs)(t.motion.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.3},className:`flex ${"user"===a.role?"justify-end":"justify-start"}`,children:["model"===a.role&&(0,b.jsx)("div",{className:"size-8 rounded-xl bg-gray-900 border border-white/10 flex items-center justify-center mr-2 mt-1 shrink-0",children:(0,b.jsx)(i.Bot,{size:14,className:"text-[#00d4ff]"})}),(0,b.jsxs)("div",{className:`max-w-[85%] rounded-[1.5rem] p-4 shadow-sm ${"user"===a.role?"bg-[#135bec] text-white rounded-tr-none shadow-lg shadow-[#135bec]/20":"bg-gray-900/80 border border-white/5 text-gray-200 rounded-tl-none"}`,children:[(0,b.jsx)("div",{className:"whitespace-pre-wrap text-[13px] leading-relaxed",children:a.text}),(0,b.jsx)("div",{className:"text-[9px] mt-2 font-bold opacity-40 text-right uppercase tracking-widest",children:new Date(a.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]},a.id))}),z&&(0,b.jsxs)(t.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:[(0,b.jsx)("div",{className:"size-8 rounded-xl bg-gray-900 border border-white/10 flex items-center justify-center mr-2 mt-1 shrink-0",children:(0,b.jsx)(i.Bot,{size:14,className:"text-[#00d4ff]"})}),(0,b.jsxs)("div",{className:"bg-gray-900/50 border border-white/5 rounded-2xl p-4 flex gap-1.5 items-center",children:[(0,b.jsx)("div",{className:"size-1.5 bg-[#135bec] rounded-full animate-bounce"}),(0,b.jsx)("div",{className:"size-1.5 bg-[#135bec] rounded-full animate-bounce delay-150"}),(0,b.jsx)("div",{className:"size-1.5 bg-[#135bec] rounded-full animate-bounce delay-300"})]})]}),!z&&v.length<3&&(0,b.jsxs)(t.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"px-2 pt-4",children:[(0,b.jsx)("p",{className:"text-[10px] text-gray-500 font-bold uppercase mb-3 ml-1 tracking-widest",children:"Sugerencias RÃ¡pidas"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:[{label:"ðŸ“¦ Stock Motores",query:"Â¿QuÃ© stock tenemos de motores?"},{label:"ðŸ“… Estado Agenda",query:"Â¿CÃ³mo va la agenda de hoy?"},{label:"ðŸ”§ Manual LG",query:"Procedimiento para error LE en LG"},{label:"ðŸ’° Resumen Semanal",query:"Dame un resumen de las ganancias de esta semana"}].map((a,c)=>(0,b.jsx)("button",{onClick:()=>M(a.query),className:"text-[11px] bg-gray-900/50 hover:bg-[#135bec]/10 border border-white/5 rounded-xl px-4 py-2.5 text-gray-300 transition-all text-left font-bold",children:a.label},c))})]}),(0,b.jsx)("div",{ref:D})]}):(0,b.jsx)("div",{className:"space-y-6 animate-in fade-in duration-500",children:I?(0,b.jsxs)("div",{className:"space-y-6 pb-20 animate-in slide-in-from-bottom duration-500",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-2",children:[(0,b.jsxs)("button",{onClick:()=>J(null),className:"flex items-center gap-2 text-[10px] font-black text-gray-500 uppercase tracking-widest hover:text-white",children:[(0,b.jsx)(h.ChevronLeft,{size:14}),"Nuevo AnÃ¡lisis"]}),(0,b.jsxs)("button",{onClick:N,className:"bg-[#00ff9d]/10 text-[#00ff9d] border border-[#00ff9d]/20 px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 hover:bg-[#00ff9d] hover:text-black transition-all",children:[(0,b.jsx)(q,{size:14}),"Guardar"]})]}),(0,b.jsxs)("div",{className:"bg-gray-900/60 border border-white/10 rounded-[2.5rem] p-6 shadow-2xl relative overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 size-32 bg-[#135bec]/5 rounded-full -mr-16 -mt-16 blur-3xl opacity-50"}),(0,b.jsxs)("div",{className:"flex justify-between items-start mb-6 border-b border-white/5 pb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[#00d4ff] text-[9px] font-black uppercase tracking-[0.3em] mb-1",children:"Informe IA"}),(0,b.jsx)("h3",{className:"text-xl font-black",children:"DiagnÃ³stico Generado"})]}),(0,b.jsxs)("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-[9px] font-black uppercase tracking-widest ${"Alta"===I.probability?"bg-[#00ff9d]/10 text-[#00ff9d]":"bg-amber-500/10 text-amber-500"} border border-white/5`,children:[(0,b.jsx)("span",{className:"size-1.5 bg-current rounded-full animate-pulse"}),"Confianza ",I.probability]})]}),(0,b.jsx)("div",{className:"bg-black/20 rounded-2xl p-5 border border-white/5",children:(0,b.jsxs)("p",{className:"text-sm text-gray-200 leading-relaxed font-medium italic",children:['"',I.diagnosis,'"']})})]}),I.safety_warning&&(0,b.jsxs)("div",{className:"bg-rose-500/10 border border-rose-500/30 rounded-[2rem] p-6 shadow-xl",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 text-rose-500 mb-2",children:[(0,b.jsx)(s.AlertTriangle,{size:20}),(0,b.jsx)("h4",{className:"text-[10px] font-black uppercase tracking-widest",children:"Advertencia de Seguridad"})]}),(0,b.jsx)("p",{className:"text-xs text-rose-100/80 font-bold leading-relaxed",children:I.safety_warning})]}),(0,b.jsxs)("div",{className:"space-y-6 pt-4",children:[(0,b.jsxs)(t.motion.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-[#00ff9d]/10 border border-[#00ff9d]/30 p-6 rounded-[2.5rem] text-center relative overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:(0,b.jsx)(r.Activity,{size:40,className:"text-[#00ff9d]"})}),(0,b.jsx)("div",{className:"size-16 rounded-full bg-[#00ff9d]/20 flex items-center justify-center mx-auto mb-4 border border-[#00ff9d]/30",children:(0,b.jsx)(m.CheckCircle2,{size:32,className:"text-[#00ff9d]"})}),(0,b.jsx)("h3",{className:"text-xl font-black text-white italic uppercase tracking-tighter",children:"DiagnÃ³stico Finalizado"}),(0,b.jsx)("p",{className:"text-[10px] text-[#00ff9d] font-black uppercase tracking-[0.2em] mt-2",children:"IA en tiempo real"})]}),(0,b.jsxs)("div",{className:"bg-gray-900 border border-white/5 rounded-[2.5rem] p-6",children:[(0,b.jsxs)("h4",{className:"text-[#135bec] text-[10px] font-black uppercase tracking-widest mb-4 flex items-center gap-2",children:[(0,b.jsx)(m.CheckCircle2,{size:16}),"Protocolo de ReparaciÃ³n"]}),(0,b.jsx)("div",{className:"space-y-3",children:I.repair_steps.map((a,c)=>(0,b.jsxs)("div",{className:"flex gap-4 p-4 bg-black/20 rounded-2xl border border-white/5 hover:border-[#135bec]/30 transition-all",children:[(0,b.jsx)("div",{className:"size-6 rounded-lg bg-[#135bec]/10 flex items-center justify-center text-[10px] font-black text-[#135bec] shrink-0",children:c+1}),(0,b.jsx)("p",{className:"text-xs text-gray-300 leading-relaxed font-medium",children:a})]},c))})]}),(0,b.jsxs)("div",{className:"bg-gray-900 border border-white/5 rounded-[2.5rem] p-6",children:[(0,b.jsxs)("h4",{className:"text-[#00d4ff] text-[10px] font-black uppercase tracking-widest mb-4 flex items-center gap-2",children:[(0,b.jsx)(o.Package,{size:16}),"Repuestos Recomendados"]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2 mb-6",children:I.suggested_parts.map((a,c)=>(0,b.jsxs)("div",{className:"bg-black/40 border border-white/5 px-4 py-2 rounded-full text-[10px] font-black text-gray-300 flex items-center gap-2",children:[(0,b.jsx)("div",{className:"size-1.5 bg-[#00d4ff] rounded-full"}),a]},c))}),I.estimated_labor_time&&(0,b.jsxs)("div",{className:"pt-4 border-t border-white/5 flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-[9px] text-gray-500 uppercase font-black tracking-widest",children:"Tiempo Estimado"}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs font-black text-white bg-gray-800 px-4 py-2 rounded-xl border border-white/5",children:[(0,b.jsx)(n.Clock,{size:14,className:"text-[#00d4ff]"}),I.estimated_labor_time]})]})]}),(0,b.jsx)(t.motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:N,className:"w-full bg-[#135bec] text-white py-5 rounded-[2rem] font-black uppercase text-xs tracking-[0.3em] shadow-[0_20px_40px_rgba(19,91,236,0.3)] border border-white/10",children:"Vincular a Orden de Servicio"})]})]}):(0,b.jsxs)("div",{className:"bg-gray-900/40 border border-white/5 rounded-[2.5rem] p-8 shadow-2xl space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("div",{className:"size-10 rounded-2xl bg-[#135bec]/10 flex items-center justify-center",children:(0,b.jsx)(p.BrainCircuit,{className:"text-[#135bec]",size:24})}),(0,b.jsx)("h3",{className:"text-xl font-black tracking-tight",children:"DiagnÃ³stico TÃ©cnico IA"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest ml-1",children:"Marca"}),(0,b.jsx)("input",{type:"text",placeholder:"Samsung, LG...",value:E.brand,onChange:a=>F({...E,brand:a.target.value}),className:"w-full bg-black/40 border border-gray-800 rounded-2xl px-4 py-3 text-sm focus:border-[#135bec] outline-none transition-all"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest ml-1",children:"Modelo"}),(0,b.jsx)("input",{type:"text",placeholder:"WD12V...",value:E.model,onChange:a=>F({...E,model:a.target.value}),className:"w-full bg-black/40 border border-gray-800 rounded-2xl px-4 py-3 text-sm focus:border-[#135bec] outline-none transition-all"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest ml-1",children:"SÃ­ntomas Reportados"}),(0,b.jsx)("textarea",{rows:4,placeholder:"No enciende, error OE, ruido fuerte en centrifugado...",value:G,onChange:a=>H(a.target.value),className:"w-full bg-black/40 border border-gray-800 rounded-[1.5rem] px-4 py-4 text-sm focus:border-[#135bec] outline-none transition-all resize-none"})]}),(0,b.jsx)("button",{onClick:()=>{E.brand&&E.model&&G&&C(async()=>{try{let a=await f(E,G);J(a)}catch(a){console.error("Error en diagnÃ³stico:",a),alert("OcurriÃ³ un error en el diagnÃ³stico. Intenta de nuevo.")}})},disabled:B||!E.brand||!G,className:"w-full py-4 bg-[#135bec] text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-lg shadow-[#135bec]/20 hover:scale-[1.02] active:scale-95 transition-all disabled:opacity-50 flex items-center justify-center gap-3",children:B?(0,b.jsx)("div",{className:"size-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.Sparkles,{size:18}),"Analizar con Gemini"]})})]})})}),"chat"===e&&(0,b.jsxs)("div",{className:"bg-[#0a0c10]/95 backdrop-blur-xl border-t border-white/5 p-5 fixed bottom-0 w-full max-w-4xl z-[60] rounded-t-[2.5rem] shadow-[0_-10px_40px_rgba(0,0,0,0.5)] left-1/2 -translate-x-1/2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)("input",{type:"text",value:x,onChange:a=>y(a.target.value),onKeyPress:a=>"Enter"===a.key&&M(),placeholder:"Escribe tu consulta tÃ©cnica...",className:"w-full bg-gray-900 border border-white/5 text-white rounded-2xl pl-5 pr-12 py-4 focus:outline-none focus:border-[#135bec] transition-all placeholder:text-gray-600 text-sm font-medium",disabled:z}),(0,b.jsx)("button",{onClick:()=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window))return void alert("Tu navegador no soporta reconocimiento de voz.");let a=new(window.SpeechRecognition||window.webkitSpeechRecognition);a.lang="es-ES",a.continuous=!1,a.interimResults=!1,a.onstart=()=>L(!0),a.onend=()=>L(!1),a.onresult=a=>{y(a.results[0][0].transcript)},K?a.stop():a.start()},className:`absolute right-3 top-1/2 -translate-y-1/2 p-2 rounded-full transition-all ${K?"text-[#00ff9d] bg-[#00ff9d]/10 animate-pulse":"text-gray-500 hover:text-[#00d4ff]"}`,disabled:z,type:"button",children:(0,b.jsx)(k.Mic,{size:20})})]}),(0,b.jsx)("button",{onClick:()=>M(),disabled:!x.trim()||z,className:"size-14 rounded-2xl bg-[#135bec] flex items-center justify-center text-white shadow-lg shadow-[#135bec]/20 active:scale-95 transition-all disabled:opacity-50",children:(0,b.jsx)(j.Send,{size:24})})]}),(0,b.jsx)("p",{className:"text-[10px] text-center text-gray-600 mt-4 font-bold uppercase tracking-[0.2em]",children:"ServiBot v2.0 â€¢ Powered by Gemini 1.5 Pro"})]})]})}a.s(["default",()=>u],39391)}];

//# sourceMappingURL=app_ai-assistant_page_tsx_1afa915f._.js.map