(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},18566,(e,t,a)=>{t.exports=e.r(76562)},75254,e=>{"use strict";var t=e.i(71645);let a=(...e)=>e.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim();var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let r=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:n="",children:c,iconNode:o,...d},u)=>(0,t.createElement)("svg",{ref:u,...s,width:r,height:r,stroke:e,strokeWidth:i?24*Number(l)/Number(r):l,className:a("lucide",n),...d},[...o.map(([e,a])=>(0,t.createElement)(e,a)),...Array.isArray(c)?c:[c]])),l=(e,s)=>{let l=(0,t.forwardRef)(({className:l,...i},n)=>(0,t.createElement)(r,{ref:n,iconNode:s,className:a(`lucide-${e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,l),...i}));return l.displayName=`${e}`,l};e.s(["default",()=>l],75254)},63488,e=>{"use strict";let t=(0,e.i(75254).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);e.s(["Mail",()=>t],63488)},83086,e=>{"use strict";let t=(0,e.i(75254).default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);e.s(["Sparkles",()=>t],83086)},79002,e=>{"use strict";let t=(0,e.i(75254).default)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);e.s(["UserPlus",()=>t],79002)},72637,e=>{"use strict";var t=e.i(43476),a=e.i(71645);e.i(29225);var s=e.i(72390),r=e.i(18566),l=e.i(79002),i=e.i(63488),n=e.i(70756),c=e.i(31278),o=e.i(83086),d=e.i(4997),u=e.i(22016),x=e.i(46932);function p(){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)("div",{className:"min-h-screen bg-[#0a0c10] flex items-center justify-center",children:(0,t.jsx)(c.Loader2,{className:"animate-spin text-[#135bec]",size:40})}),children:(0,t.jsx)(m,{})})}function m(){let[e,p]=(0,a.useState)(""),[m,h]=(0,a.useState)(""),[g,f]=(0,a.useState)(""),[y,j]=(0,a.useState)(""),[v,N]=(0,a.useState)(""),[k,w]=(0,a.useState)("solo"),[C,S]=(0,a.useState)(!1),[z,I]=(0,a.useState)(null),[L,_]=(0,a.useState)(!1),[E,M]=(0,a.useState)(null),q=(0,r.useRouter)(),R=(0,r.useSearchParams)(),T=(0,s.createBrowserClient)("https://bajynifnwzsicuxdxigk.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJhanluaWZud3pzaWN1eGR4aWdrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5NDUxOTUsImV4cCI6MjA4NDUyMTE5NX0.RCN56FnpfNlwZNpynKROKasTFT_ZYNIGfc2Zurvfbrk");(0,a.useEffect)(()=>{let e=R.get("plan"),t=R.get("invitation");t?U(t):"team"===e?w("team"):("pro"===e||"free"===e)&&w("solo")},[R]);let U=async e=>{let{data:t,error:a}=await T.from("team_invitations").select("*, teams(name)").eq("token",e).eq("status","pending").gt("expires_at",new Date().toISOString()).single();t?(M(t),p(t.email||""),w("solo")):I("La invitación no es válida o ha expirado")},O=async t=>{if(t.preventDefault(),S(!0),I(null),y!==v){I("Las contraseñas no coinciden"),S(!1);return}try{let{error:t}=await T.auth.signUp({email:e,password:y,options:{emailRedirectTo:`${window.location.origin}/auth/callback`,data:{full_name:m,account_type:k,business_name:g,role:E?"technician":"team"===k?"admin":"solo_technician",invitation_token:E?.token||null}}});if(t)throw t;_(!0),setTimeout(()=>{q.push("/login")},3e3)}catch(e){I(e.message||"Error al crear la cuenta")}finally{S(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-[#0a0c10] flex flex-col items-center justify-center p-6 font-sans text-white relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-[-10%] left-[-10%] size-[400px] bg-[#135bec] opacity-10 blur-[120px] rounded-full"}),(0,t.jsx)("div",{className:"absolute bottom-[-10%] right-[-10%] size-[400px] bg-[#00ff9d] opacity-10 blur-[120px] rounded-full"}),(0,t.jsxs)("div",{className:"w-full max-w-md z-10",children:[(0,t.jsxs)(x.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-10",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center size-16 bg-[#135bec]/10 rounded-3xl border border-[#135bec]/20 mb-4 shadow-[0_0_20px_rgba(19,91,236,0.2)]",children:(0,t.jsx)(l.UserPlus,{className:"text-[#135bec]",size:32})}),(0,t.jsxs)("h1",{className:"text-3xl font-black tracking-tight",children:[E?"Unirse al":"Crear"," ",(0,t.jsx)("span",{className:"text-[#135bec]",children:E?"Equipo":"Cuenta"})]}),(0,t.jsx)("p",{className:"text-gray-500 text-xs font-bold uppercase tracking-[0.2em] mt-2",children:E?`\xdanete a ${E.teams?.name}`:"Únete a la plataforma ServiTech"})]}),(0,t.jsx)(x.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1},children:(0,t.jsxs)("form",{onSubmit:O,className:"space-y-5 bg-gray-900/40 p-8 rounded-[2.5rem] border border-white/5 backdrop-blur-xl",children:[!E&&(0,t.jsxs)("div",{className:"p-1.5 bg-black/40 rounded-2xl border border-gray-800 flex gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>w("solo"),className:`flex-1 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${"solo"===k?"bg-[#135bec] text-white shadow-lg":"text-gray-500 hover:text-white"}`,children:"Independiente"}),(0,t.jsx)("button",{type:"button",onClick:()=>w("team"),className:`flex-1 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${"team"===k?"bg-[#135bec] text-white shadow-lg":"text-gray-500 hover:text-white"}`,children:"Empresa / Equipo"})]}),E&&(0,t.jsxs)("div",{className:"p-4 bg-[#135bec]/10 border border-[#135bec]/20 rounded-2xl mb-4",children:[(0,t.jsx)("p",{className:"text-[10px] font-black text-[#135bec] uppercase tracking-widest mb-1",children:"Has sido invitado a:"}),(0,t.jsx)("p",{className:"text-sm font-bold text-white",children:E.teams?.name})]}),z&&(0,t.jsx)("div",{className:"p-4 bg-rose-500/10 border border-rose-500/20 rounded-2xl text-rose-500 text-xs font-bold",children:z}),L&&(0,t.jsxs)("div",{className:"p-4 bg-green-500/10 border border-green-500/20 rounded-2xl text-green-500 text-xs font-bold text-center",children:["¡Cuenta creada con éxito!",(0,t.jsx)("br",{}),"Revisa tu correo para confirmar. Re-dirigiendo..."]}),!L&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest ml-1",children:"Nombre Completo"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(l.UserPlus,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,t.jsx)("input",{type:"text",required:!0,value:m,onChange:e=>h(e.target.value),placeholder:"Juan Pérez",className:"w-full bg-black/40 border border-gray-800 rounded-2xl py-4 pl-12 pr-4 text-sm focus:border-[#135bec] focus:ring-1 focus:ring-[#135bec] outline-none transition-all"})]})]}),"team"===k&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest ml-1",children:"Nombre de la Empresa"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(o.Sparkles,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,t.jsx)("input",{type:"text",required:!0,value:g,onChange:e=>f(e.target.value),placeholder:"ServiTech Solutions",className:"w-full bg-black/40 border border-gray-800 rounded-2xl py-4 pl-12 pr-4 text-sm focus:border-[#135bec] focus:ring-1 focus:ring-[#135bec] outline-none transition-all"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest ml-1",children:["Email ","team"===k?"Corporativo":""]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(i.Mail,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,t.jsx)("input",{type:"email",required:!0,disabled:!!E,value:e,onChange:e=>p(e.target.value),placeholder:"tecnico@servitech.pro",className:"w-full bg-black/40 border border-gray-800 rounded-2xl py-4 pl-12 pr-4 text-sm focus:border-[#135bec] focus:ring-1 focus:ring-[#135bec] outline-none transition-all disabled:opacity-50"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest ml-1",children:"Contraseña"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(n.Lock,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,t.jsx)("input",{type:"password",required:!0,value:y,onChange:e=>j(e.target.value),placeholder:"••••••••",className:"w-full bg-black/40 border border-gray-800 rounded-2xl py-4 pl-12 pr-4 text-sm focus:border-[#135bec] focus:ring-1 focus:ring-[#135bec] outline-none transition-all"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest ml-1",children:"Confirmar Contraseña"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(n.Lock,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,t.jsx)("input",{type:"password",required:!0,value:v,onChange:e=>N(e.target.value),placeholder:"••••••••",className:"w-full bg-black/40 border border-gray-800 rounded-2xl py-4 pl-12 pr-4 text-sm focus:border-[#135bec] focus:ring-1 focus:ring-[#135bec] outline-none transition-all"})]})]}),(0,t.jsx)("button",{type:"submit",disabled:C,className:"w-full bg-[#135bec] hover:bg-[#1e66ff] text-white font-black py-4 rounded-2xl shadow-[0_10px_30px_rgba(19,91,236,0.3)] transition-all active:scale-[0.98] flex items-center justify-center gap-3 mt-4",children:C?(0,t.jsx)(c.Loader2,{className:"animate-spin",size:20}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"uppercase tracking-widest text-sm",children:E?"Unirse al Equipo":`Registrar mi ${"solo"===k?"Cuenta Solo":"Equipo"}`}),(0,t.jsx)(b,{size:20})]})})]})]})}),(0,t.jsxs)("div",{className:"mt-8 text-center space-y-4",children:[(0,t.jsxs)("p",{className:"text-gray-500 text-xs font-bold uppercase tracking-widest",children:["¿Ya tienes cuenta?"," ",(0,t.jsxs)(u.default,{href:"/login",className:"text-[#135bec] hover:underline flex items-center justify-center gap-1 mt-1",children:[(0,t.jsx)(d.LogIn,{size:14})," Iniciar Sesión"]})]}),(0,t.jsx)("p",{className:"text-gray-500 text-[10px] uppercase font-bold tracking-widest opacity-50",children:"© 2026 ServiTech Hub • v2.0.4"})]})]})]})}function b({size:e,className:a}){return(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[(0,t.jsx)("path",{d:"M5 12h14"}),(0,t.jsx)("path",{d:"m12 5 7 7-7 7"})]})}e.s(["default",()=>p,"dynamic",0,"force-dynamic"])}]);