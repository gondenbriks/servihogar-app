(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55436,e=>{"use strict";let t=(0,e.i(75254).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>t],55436)},78894,e=>{"use strict";let t=(0,e.i(75254).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>t],78894)},37727,e=>{"use strict";let t=(0,e.i(75254).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},84614,e=>{"use strict";let t=(0,e.i(75254).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],84614)},18566,(e,t,a)=>{t.exports=e.r(76562)},75254,e=>{"use strict";var t=e.i(71645);let a=(...e)=>e.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim();var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let r=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:n="",children:c,iconNode:o,...d},x)=>(0,t.createElement)("svg",{ref:x,...s,width:r,height:r,stroke:e,strokeWidth:i?24*Number(l)/Number(r):l,className:a("lucide",n),...d},[...o.map(([e,a])=>(0,t.createElement)(e,a)),...Array.isArray(c)?c:[c]])),l=(e,s)=>{let l=(0,t.forwardRef)(({className:l,...i},n)=>(0,t.createElement)(r,{ref:n,iconNode:s,className:a(`lucide-${e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,l),...i}));return l.displayName=`${e}`,l};e.s(["default",()=>l],75254)},17927,e=>{"use strict";let t=(0,e.i(88715).createClient)("https://bajynifnwzsicuxdxigk.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJhanluaWZud3pzaWN1eGR4aWdrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5NDUxOTUsImV4cCI6MjA4NDUyMTE5NX0.RCN56FnpfNlwZNpynKROKasTFT_ZYNIGfc2Zurvfbrk");e.s(["supabase",0,t])},95468,e=>{"use strict";let t=(0,e.i(75254).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],95468)},83086,e=>{"use strict";let t=(0,e.i(75254).default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);e.s(["Sparkles",()=>t],83086)},79002,e=>{"use strict";let t=(0,e.i(75254).default)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);e.s(["UserPlus",()=>t],79002)},78583,e=>{"use strict";let t=(0,e.i(75254).default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>t],78583)},95187,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s={callServer:function(){return l.callServer},createServerReference:function(){return n.createServerReference},findSourceMapURL:function(){return i.findSourceMapURL}};for(var r in s)Object.defineProperty(a,r,{enumerable:!0,get:s[r]});let l=e.r(32120),i=e.r(92245),n=e.r(35326)},14764,e=>{"use strict";let t=(0,e.i(75254).default)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);e.s(["Send",()=>t],14764)},94983,e=>{"use strict";let t=(0,e.i(75254).default)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);e.s(["MessageCircle",()=>t],94983)},43531,e=>{"use strict";let t=(0,e.i(75254).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],43531)},40636,27516,e=>{"use strict";var t=e.i(95187);let a=(0,t.createServerReference)("70123382b1b28ff7b6651829fe7748b5e33f11b69a",t.callServer,void 0,t.findSourceMapURL,"generatePersonalizedMessage");e.s(["generatePersonalizedMessage",()=>a],40636);let s=(0,e.i(75254).default)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);e.s(["History",()=>s],27516)},56567,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(18566),r=e.i(17927),l=e.i(40636),i=e.i(55436),n=e.i(79002);let c=(0,e.i(75254).default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var o=e.i(37727),d=e.i(43531),x=e.i(95468),u=e.i(78894),p=e.i(27516),m=e.i(94983),h=e.i(83086),b=e.i(14764),g=e.i(84614),f=e.i(78583),y=e.i(70016);function v(){let e=(0,s.useRouter)(),[v,w]=(0,a.useState)(!1),[j,k]=(0,a.useState)(new Set),[N,C]=(0,a.useState)([]),[S,z]=(0,a.useState)(new Date),[M,_]=(0,a.useState)(""),[I,A]=(0,a.useState)(!0),[D,R]=(0,a.useState)("all"),[$,E]=(0,a.useState)(!1),[T,U]=(0,a.useState)({national_id:"",name:"",phone:"",address:""}),[P,q]=(0,a.useState)(!1),[L,H]=(0,a.useState)([]),[F,G]=(0,a.useState)(!1),[O,Z]=(0,a.useState)(!1),[X,B]=(0,a.useState)("maintenance"),J=a.default.useRef(null);(0,a.useEffect)(()=>{V();let e=r.supabase.channel("clients-changes").on("postgres_changes",{event:"*",schema:"public",table:"clients"},()=>{V(),z(new Date)}).subscribe();return()=>{r.supabase.removeChannel(e)}},[]);let V=async()=>{A(!0);try{let{data:e,error:t}=await r.supabase.from("clients").select(`
                    *,
                    service_orders (
                        scheduled_at,
                        equipment (
                            type,
                            brand
                        )
                    )
                `).order("full_name");if(t)throw t;let a=(e||[]).map(e=>{let t=(e.service_orders||[]).sort((e,t)=>new Date(t.scheduled_at||0).getTime()-new Date(e.scheduled_at||0).getTime()),a=t.length>0?t[0]:null;return{id:e.id,name:e.full_name,nationalId:e.national_id,phone:e.phone,address:e.address,category:e.category,lastServiceDate:a?.scheduled_at,lastAppliance:a?.equipment?`${a.equipment.type} ${a.equipment.brand}`:void 0,initials:e.full_name.split(" ").map(e=>e[0]).join("").toUpperCase().substring(0,2),color:"bg-indigo-600"}});C(a)}catch(e){console.error("Error loading clients:",e)}finally{A(!1)}},W=e=>{if(!e)return{label:"Sin Visitas",color:"text-gray-500",bg:"bg-gray-500/10",icon:p.History,status:"ok"};let t=new Date(e),a=new Date,s=(a.getFullYear()-t.getFullYear())*12+(a.getMonth()-t.getMonth());return s>=12?{label:"Mantenimiento Vencido",color:"text-rose-500",bg:"bg-rose-500/10",icon:u.AlertTriangle,status:"expired"}:s>=10?{label:"Próximo Vencimiento",color:"text-amber-500",bg:"bg-amber-500/10",icon:c,status:"upcoming"}:{label:"Al día",color:"text-emerald-500",bg:"bg-emerald-500/10",icon:x.CheckCircle2,status:"ok"}},Y=(0,a.useMemo)(()=>N.filter(e=>!!(e.name.toLowerCase().includes(M.toLowerCase())||e.nationalId&&e.nationalId.includes(M))&&("all"===D||W(e.lastServiceDate).status===D)),[N,M,D]),K=(0,a.useMemo)(()=>{let e={all:N.length,expired:0,upcoming:0,ok:0};return N.forEach(t=>{let a=W(t.lastServiceDate);e[a.status]++}),e},[N]),Q=()=>{w(!v),k(new Set),H([])},ee=async e=>{let t=e.target.files?.[0];if(!t)return;Z(!0);let a=new FileReader;a.onload=async e=>{try{let t=e.target?.result,a=y.read(t,{type:"binary"}),s=a.SheetNames[0],l=a.Sheets[s],i=y.utils.sheet_to_json(l);if(0===i.length)return void alert("El archivo Excel está vacío");let n=i.map(e=>({national_id:String(e.Cedula||e.Identificacion||e.ID||e["Cedula/DNI"]||""),full_name:String(e.Nombre||e["Nombre Completo"]||e.Name||""),phone:String(e.Telefono||e.Celular||e.Phone||""),address:String(e.Direccion||e.Address||"Cali, Colombia"),email:String(e.Email||e.Correo||""),category:"REGULAR"})).filter(e=>e.national_id&&e.full_name);if(0===n.length)return void alert('No se encontraron clientes válidos. El Excel debe tener columnas como "Cedula", "Nombre", "Telefono".');let{error:c}=await r.supabase.from("clients").upsert(n,{onConflict:"national_id"});if(c)throw c;alert(`\xa1\xc9xito! Se han importado/actualizado ${n.length} clientes.`),await V()}catch(e){console.error("Error importando Excel:",e),alert("Error al procesar el archivo: "+e.message)}finally{Z(!1),J.current&&(J.current.value="")}},a.readAsBinaryString(t)},et=async e=>{e.preventDefault(),A(!0);try{let{error:e}=await r.supabase.from("clients").insert({national_id:T.national_id,full_name:T.name,phone:T.phone,address:T.address,category:"REGULAR"});if(e)throw e;await V(),E(!1),U({national_id:"",name:"",phone:"",address:""})}catch(e){alert(e.message)}finally{A(!1)}},ea=async(e="maintenance")=>{G(!0),B(e),q(!0);let t=N.filter(e=>j.has(e.id));H(t.map(e=>({clientId:e.id,clientName:e.name,phone:e.phone,message:"Generando mensaje...",status:"generating"})));for(let a=0;a<t.length;a++){let s=t[a];s.name,s.lastAppliance;try{let t=await (0,l.generatePersonalizedMessage)(s.name,s.lastAppliance||"equipo",e);H(e=>e.map(e=>e.clientId===s.id?{...e,message:t,status:"ready"}:e))}catch(e){console.error(e)}}G(!1)};return(0,t.jsxs)("div",{className:"bg-[#0a0c10] min-h-screen text-white pb-32 max-w-md mx-auto relative font-sans",children:[(0,t.jsxs)("header",{className:"sticky top-0 z-40 bg-[#0a0c10]/95 backdrop-blur-md pt-6 pb-4 px-6 border-b border-white/5 transition-all",children:[(0,t.jsx)("div",{className:"flex justify-between items-center mb-6",children:v?(0,t.jsxs)("div",{className:"flex items-center gap-4 w-full",children:[(0,t.jsx)("button",{onClick:Q,className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:(0,t.jsx)(o.X,{size:20})}),(0,t.jsxs)("h1",{className:"text-xl font-black flex-1",children:[j.size," seleccionados"]}),(0,t.jsx)("button",{onClick:()=>{j.size===Y.length?k(new Set):k(new Set(Y.map(e=>e.id)))},className:"text-[10px] font-black uppercase tracking-widest text-[#135bec] bg-[#135bec]/10 px-4 py-2 rounded-xl",children:j.size===Y.length?"Ninguno":"Todos"})]}):(0,t.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("h1",{className:"text-2xl font-black tracking-tight",children:"Clientes"}),(0,t.jsxs)("p",{className:"text-[8px] font-bold text-gray-600 uppercase tracking-widest mt-0.5",children:["Sincronizado: ",S.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"file",ref:J,onChange:ee,className:"hidden",accept:".xlsx, .xls, .csv"}),(0,t.jsx)("button",{onClick:()=>J.current?.click(),className:"p-3 bg-gray-900 border border-white/5 rounded-2xl text-emerald-500 hover:bg-gray-800 transition-all active:scale-95 relative",disabled:O,children:O?(0,t.jsx)("div",{className:"size-5 border-2 border-emerald-500/20 border-t-emerald-500 rounded-full animate-spin"}):(0,t.jsx)(f.FileText,{size:20})}),(0,t.jsx)("button",{onClick:()=>E(!0),className:"p-3 bg-gray-900 border border-white/5 rounded-2xl text-[#135bec] hover:bg-gray-800 transition-all active:scale-95",children:(0,t.jsx)(n.UserPlus,{size:20})}),(0,t.jsxs)("button",{onClick:Q,className:`flex items-center gap-2 px-4 py-3 rounded-2xl font-black text-[10px] uppercase tracking-widest transition-all active:scale-95 ${v?"bg-[#135bec] text-white shadow-lg":"bg-gray-900 border border-white/5 text-gray-400"}`,children:[(0,t.jsx)(c,{size:18}),"Gestionar"]})]})]})}),!v&&(0,t.jsxs)("div",{className:"space-y-5",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(i.Search,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",size:18}),(0,t.jsx)("input",{className:"w-full bg-gray-900/50 border border-white/5 rounded-2xl py-4 pl-12 pr-4 text-white placeholder-gray-600 focus:outline-none focus:border-[#135bec] transition-all text-sm font-medium",placeholder:"Nombre o identificación...",value:M,onChange:e=>_(e.target.value)})]}),(0,t.jsx)("div",{className:"flex gap-2 overflow-x-auto no-scrollbar",children:[{id:"all",label:"Todos",count:K.all},{id:"expired",label:"Vencidos",count:K.expired,color:"text-rose-500"},{id:"upcoming",label:"Próximos",count:K.upcoming,color:"text-amber-500"},{id:"ok",label:"Al día",count:K.ok,color:"text-emerald-500"}].map(e=>(0,t.jsxs)("button",{onClick:()=>R(e.id),className:`shrink-0 px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-[0.15em] border transition-all ${D===e.id?"bg-white text-black border-white":`bg-gray-900 border-white/5 ${e.color||"text-gray-500"}`}`,children:[e.label," (",e.count,")"]},e.id))})]})]}),(0,t.jsx)("main",{className:"p-6 space-y-4",children:I?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 animate-pulse",children:[(0,t.jsx)("div",{className:"size-12 border-4 border-[#135bec]/20 border-t-[#135bec] rounded-full animate-spin mb-4"}),(0,t.jsx)("p",{className:"text-xs font-black uppercase tracking-widest text-gray-600",children:"Sincronizando Base de Datos"})]}):0===Y.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-24 text-gray-600 border-2 border-dashed border-white/5 rounded-[2.5rem]",children:[(0,t.jsx)(g.User,{size:48,className:"mb-4 opacity-20"}),(0,t.jsx)("p",{className:"font-bold text-sm",children:"Sin coincidencias encontradas"})]}):Y.map(a=>{let s=W(a.lastServiceDate),r=j.has(a.id),l=s.icon;return(0,t.jsxs)("div",{onClick:()=>{var t;let s;return v?(t=a.id,({stopPropagation:()=>{}}).stopPropagation(),void((s=new Set(j)).has(t)?s.delete(t):s.add(t),k(s))):e.push(`/client-profile/${a.id}`)},className:`relative flex items-center justify-between p-5 rounded-[2.5rem] border transition-all active:scale-[0.98] cursor-pointer group overflow-hidden ${r?"bg-[#135bec]/10 border-[#135bec] shadow-[0_10px_40px_rgba(19,91,236,0.1)]":"bg-gray-900/40 border-white/5 hover:border-white/10 hover:bg-gray-800/40"}`,children:[r&&(0,t.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-1.5 bg-[#135bec] shadow-[0_0_15px_rgba(19,91,236,1)]"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[v&&(0,t.jsx)("div",{className:`shrink-0 size-7 rounded-xl border-2 flex items-center justify-center transition-all duration-300 ${r?"bg-[#135bec] border-[#135bec] scale-110 shadow-lg shadow-[#135bec]/30":"border-gray-700"}`,children:r&&(0,t.jsx)(d.Check,{size:14,className:"text-white",strokeWidth:4})}),(0,t.jsx)("div",{className:`size-14 rounded-2xl bg-gradient-to-br from-indigo-500 to-indigo-700 flex items-center justify-center font-black text-lg text-white shadow-xl transition-all duration-500 ${r?"scale-90 rotate-3":"shadow-indigo-500/10"}`,children:a.initials}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("h3",{className:`font-black tracking-tight transition-colors duration-300 ${r?"text-white":"text-gray-200"} text-sm truncate max-w-[140px]`,children:a.name}),"PREMIUM"===a.category&&(0,t.jsx)("span",{className:"text-[7px] font-black bg-amber-500/10 text-amber-500 border border-amber-500/20 px-1.5 py-0.5 rounded-md uppercase tracking-tighter",children:"Gold"}),"ENTERPRISE"===a.category&&(0,t.jsx)("span",{className:"text-[7px] font-black bg-[#135bec]/10 text-[#135bec] border border-[#135bec]/20 px-1.5 py-0.5 rounded-md uppercase tracking-tighter",children:"Corp"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,t.jsx)("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-widest",children:a.phone}),(0,t.jsxs)("div",{className:`flex items-center gap-1.5 px-3 py-1.5 rounded-xl text-[8px] font-black uppercase tracking-widest border border-white/5 transition-all duration-300 ${s.bg} ${s.color}`,children:[(0,t.jsx)(l,{size:12}),s.label,a.lastServiceDate&&(0,t.jsxs)("span",{className:"opacity-40 ml-1",children:["(",new Date(a.lastServiceDate).toLocaleDateString(),")"]})]})]})]})]}),!v&&(0,t.jsx)("button",{onClick:e=>{e.stopPropagation();let t=`Hola ${a.name}, le contactamos de ServiHogar para agendar un mantenimiento preventivo de su ${a.lastAppliance||"equipo"}. \xbfEn qu\xe9 horario le gustar\xeda agendar?`;window.open(`https://wa.me/${a.phone.replace(/\D/g,"")}?text=${encodeURIComponent(t)}`,"_blank")},className:"p-3.5 bg-gray-900 border border-white/5 rounded-2xl text-gray-500 hover:text-[#25D366] hover:border-[#25D366]/20 transition-all hover:bg-[#25D366]/5",children:(0,t.jsx)(m.MessageCircle,{size:20})})]},a.id)})}),(0,t.jsx)("div",{className:`fixed bottom-28 left-6 right-6 max-w-md mx-auto z-[60] transition-all duration-500 transform ${v&&j.size>0?"translate-y-0 opacity-100 scale-100":"translate-y-32 opacity-0 scale-95"}`,children:(0,t.jsxs)("div",{className:"bg-[#135bec] rounded-[2rem] p-5 shadow-[0_20px_50px_rgba(19,91,236,0.5)] border border-white/20 flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-white font-black text-lg leading-none",children:[j.size," Clientes"]}),(0,t.jsx)("p",{className:"text-[9px] text-white/70 uppercase font-black tracking-widest mt-1",children:"Acción Masiva con ServiBot"})]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsx)("button",{className:"size-10 rounded-xl bg-white/10 flex items-center justify-center text-white hover:bg-white/20 transition-all",children:(0,t.jsx)(b.Send,{size:18})})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("button",{onClick:()=>ea("maintenance"),className:"bg-white/10 hover:bg-white/20 border border-white/5 p-3 rounded-xl flex flex-col items-center gap-1 transition-all group",children:[(0,t.jsx)(p.History,{size:16,className:"text-white group-hover:scale-110 transition-transform"}),(0,t.jsx)("span",{className:"text-[8px] font-black uppercase tracking-tighter text-white/90",children:"Mantenimiento"})]}),(0,t.jsxs)("button",{onClick:()=>ea("promo"),className:"bg-white/10 hover:bg-white/20 border border-white/5 p-3 rounded-xl flex flex-col items-center gap-1 transition-all group",children:[(0,t.jsx)(h.Sparkles,{size:16,className:"text-white group-hover:scale-110 transition-transform"}),(0,t.jsx)("span",{className:"text-[8px] font-black uppercase tracking-tighter text-white/90",children:"Promoción"})]}),(0,t.jsxs)("button",{onClick:()=>ea("payment"),className:"bg-white/10 hover:bg-white/20 border border-white/5 p-3 rounded-xl flex flex-col items-center gap-1 transition-all group",children:[(0,t.jsx)(f.FileText,{size:16,className:"text-white group-hover:scale-110 transition-transform"}),(0,t.jsx)("span",{className:"text-[8px] font-black uppercase tracking-tighter text-white/90",children:"Cobranza"})]}),(0,t.jsxs)("button",{onClick:()=>ea("general"),className:"bg-white text-[#135bec] p-3 rounded-xl flex flex-col items-center gap-1 shadow-lg font-black transition-all hover:scale-[1.02]",children:[(0,t.jsx)(m.MessageCircle,{size:16}),(0,t.jsx)("span",{className:"text-[8px] font-black uppercase tracking-tighter",children:"General"})]})]})]})}),P&&(0,t.jsx)("div",{className:"fixed inset-0 z-[110] flex items-end justify-center bg-black/90 backdrop-blur-md p-4",children:(0,t.jsxs)("div",{className:"bg-[#0a0c10] w-full max-w-md h-[85vh] rounded-t-[3rem] border-t border-white/10 flex flex-col animate-in slide-in-from-bottom duration-500",children:[(0,t.jsxs)("div",{className:"p-8 border-b border-white/5 flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-black text-xl",children:"ServiBot IA"}),(0,t.jsx)("p",{className:"text-[10px] text-[#135bec] font-black uppercase tracking-widest mt-1",children:"Generando Mensajes Únicos"})]}),(0,t.jsx)("button",{onClick:()=>q(!1),className:"p-3 bg-gray-900 rounded-full text-gray-500",children:(0,t.jsx)(o.X,{size:20})})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 no-scrollbar",children:L.map((e,a)=>(0,t.jsxs)("div",{className:`p-6 rounded-[2rem] border transition-all ${"sent"===e.status?"bg-black/40 border-white/5 opacity-50":"bg-gray-900 border-white/5 shadow-xl"}`,children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-black text-sm",children:e.clientName}),(0,t.jsx)("p",{className:"text-[9px] text-gray-500 font-bold tracking-widest uppercase mt-1",children:e.phone})]}),"generating"===e.status&&(0,t.jsx)("div",{className:"size-4 border-2 border-[#135bec]/30 border-t-[#135bec] rounded-full animate-spin"}),"sent"===e.status&&(0,t.jsx)(x.CheckCircle2,{className:"text-[#00ff9d]",size:16})]}),(0,t.jsx)("textarea",{className:"w-full bg-black/40 border border-white/5 rounded-2xl p-4 text-[13px] text-gray-300 h-28 resize-none focus:outline-none focus:border-[#135bec] transition-all font-medium leading-relaxed",value:e.message,onChange:e=>{let t=[...L];t[a].message=e.target.value,H(t)}}),(0,t.jsxs)("button",{onClick:()=>{let t;return t=`https://wa.me/${e.phone.replace(/\s+/g,"")}?text=${encodeURIComponent(e.message)}`,void(window.open(t,"_blank"),H(t=>t.map(t=>t.clientId===e.clientId?{...t,status:"sent"}:t)))},disabled:"ready"!==e.status,className:`w-full mt-4 py-4 rounded-2xl font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-2 transition-all ${"ready"===e.status?"bg-[#25D366] text-white":"bg-gray-800 text-gray-600"}`,children:[(0,t.jsx)(b.Send,{size:14}),"sent"===e.status?"Enviado":"Enviar WhatsApp"]})]},e.clientId))})]})}),$&&(0,t.jsx)("div",{className:"fixed inset-0 z-[120] flex items-center justify-center bg-black/90 backdrop-blur-md p-6",children:(0,t.jsxs)("div",{className:"bg-[#0a0c10] w-full max-w-sm rounded-[3rem] border border-white/10 p-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-black",children:"Nuevo Cliente"}),(0,t.jsx)("button",{onClick:()=>E(!1),className:"p-2 text-gray-500",children:(0,t.jsx)(o.X,{size:24})})]}),(0,t.jsxs)("form",{onSubmit:et,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500 ml-1",children:"Cédula / DNI"}),(0,t.jsx)("input",{required:!0,className:"w-full bg-gray-900 border border-white/5 rounded-2xl p-4 text-sm",value:T.national_id,onChange:e=>U({...T,national_id:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500 ml-1",children:"Nombre"}),(0,t.jsx)("input",{required:!0,className:"w-full bg-gray-900 border border-white/5 rounded-2xl p-4 text-sm",value:T.name,onChange:e=>U({...T,name:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500 ml-1",children:"Teléfono"}),(0,t.jsx)("input",{required:!0,className:"w-full bg-gray-900 border border-white/5 rounded-2xl p-4 text-sm",value:T.phone,onChange:e=>U({...T,phone:e.target.value})})]}),(0,t.jsx)("button",{className:"w-full py-4 bg-[#135bec] text-white rounded-2xl font-black uppercase text-xs tracking-[0.2em] shadow-lg shadow-[#135bec]/20",children:"Crear Registro"})]})]})})]})}e.s(["default",()=>v],56567)}]);