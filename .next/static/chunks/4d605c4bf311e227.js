(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,39616,e=>{"use strict";let t=(0,e.i(75254).default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Settings",()=>t],39616)},45423,e=>{"use strict";let t=(0,e.i(75254).default)("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);e.s(["Bell",()=>t],45423)},78894,e=>{"use strict";let t=(0,e.i(75254).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>t],78894)},88653,e=>{"use strict";e.i(47167);var t=e.i(43476),a=e.i(71645),s=e.i(31178),r=e.i(47414),i=e.i(21476),l=a,n=e.i(37806);class c extends l.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function o({children:e,isPresent:a}){let s=(0,l.useId)(),r=(0,l.useRef)(null),i=(0,l.useRef)({width:0,height:0,top:0,left:0}),{nonce:o}=(0,l.useContext)(n.MotionConfigContext);return(0,l.useInsertionEffect)(()=>{let{width:e,height:t,top:l,left:n}=i.current;if(a||!r.current||!e||!t)return;r.current.dataset.motionPopId=s;let c=document.createElement("style");return o&&(c.nonce=o),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            top: ${l}px !important;
            left: ${n}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[a]),(0,t.jsx)(c,{isPresent:a,childRef:r,sizeRef:i,children:l.cloneElement(e,{ref:r})})}let d=({children:e,initial:s,isPresent:l,onExitComplete:n,custom:c,presenceAffectsLayout:d,mode:p})=>{let m=(0,r.useConstant)(x),h=(0,a.useId)(),u=(0,a.useCallback)(e=>{for(let t of(m.set(e,!0),m.values()))if(!t)return;n&&n()},[m,n]),f=(0,a.useMemo)(()=>({id:h,initial:s,isPresent:l,custom:c,onExitComplete:u,register:e=>(m.set(e,!1),()=>m.delete(e))}),d?[Math.random(),u]:[l,u]);return(0,a.useMemo)(()=>{m.forEach((e,t)=>m.set(t,!1))},[l]),a.useEffect(()=>{l||m.size||!n||n()},[l]),"popLayout"===p&&(e=(0,t.jsx)(o,{isPresent:l,children:e})),(0,t.jsx)(i.PresenceContext.Provider,{value:f,children:e})};function x(){return new Map}var p=e.i(64978);let m=e=>e.key||"";function h(e){let t=[];return a.Children.forEach(e,e=>{(0,a.isValidElement)(e)&&t.push(e)}),t}var u=e.i(74008);let f=({children:e,custom:i,initial:l=!0,onExitComplete:n,presenceAffectsLayout:c=!0,mode:o="sync",propagate:x=!1})=>{let[f,g]=(0,p.usePresence)(x),b=(0,a.useMemo)(()=>h(e),[e]),y=x&&!f?[]:b.map(m),j=(0,a.useRef)(!0),v=(0,a.useRef)(b),w=(0,r.useConstant)(()=>new Map),[k,N]=(0,a.useState)(b),[z,C]=(0,a.useState)(b);(0,u.useIsomorphicLayoutEffect)(()=>{j.current=!1,v.current=b;for(let e=0;e<z.length;e++){let t=m(z[e]);y.includes(t)?w.delete(t):!0!==w.get(t)&&w.set(t,!1)}},[z,y.length,y.join("-")]);let M=[];if(b!==k){let e=[...b];for(let t=0;t<z.length;t++){let a=z[t],s=m(a);y.includes(s)||(e.splice(t,0,a),M.push(a))}"wait"===o&&M.length&&(e=M),C(h(e)),N(b);return}let{forceRender:R}=(0,a.useContext)(s.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:z.map(e=>{let a=m(e),s=(!x||!!f)&&(b===z||y.includes(a));return(0,t.jsx)(d,{isPresent:s,initial:(!j.current||!!l)&&void 0,custom:s?void 0:i,presenceAffectsLayout:c,mode:o,onExitComplete:s?void 0:()=>{if(!w.has(a))return;w.set(a,!0);let e=!0;w.forEach(t=>{t||(e=!1)}),e&&(null==R||R(),C(v.current),x&&(null==g||g()),n&&n())},children:e},a)})})};e.s(["AnimatePresence",()=>f],88653)},95468,e=>{"use strict";let t=(0,e.i(75254).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],95468)},18566,(e,t,a)=>{t.exports=e.r(76562)},75254,e=>{"use strict";var t=e.i(71645);let a=(...e)=>e.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim();var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let r=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:n="",children:c,iconNode:o,...d},x)=>(0,t.createElement)("svg",{ref:x,...s,width:r,height:r,stroke:e,strokeWidth:l?24*Number(i)/Number(r):i,className:a("lucide",n),...d},[...o.map(([e,a])=>(0,t.createElement)(e,a)),...Array.isArray(c)?c:[c]])),i=(e,s)=>{let i=(0,t.forwardRef)(({className:i,...l},n)=>(0,t.createElement)(r,{ref:n,iconNode:s,className:a(`lucide-${e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,i),...l}));return i.displayName=`${e}`,i};e.s(["default",()=>i],75254)},73375,e=>{"use strict";let t=(0,e.i(75254).default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["ChevronLeft",()=>t],73375)},17927,e=>{"use strict";let t=(0,e.i(88715).createClient)("https://bajynifnwzsicuxdxigk.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJhanluaWZud3pzaWN1eGR4aWdrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5NDUxOTUsImV4cCI6MjA4NDUyMTE5NX0.RCN56FnpfNlwZNpynKROKasTFT_ZYNIGfc2Zurvfbrk");e.s(["supabase",0,t])},95116,e=>{"use strict";let t=(0,e.i(75254).default)("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);e.s(["Wrench",()=>t],95116)},63488,e=>{"use strict";let t=(0,e.i(75254).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);e.s(["Mail",()=>t],63488)},26707,e=>{"use strict";let t=(0,e.i(75254).default)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);e.s(["Smartphone",()=>t],26707)},46897,e=>{"use strict";let t=(0,e.i(75254).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],46897)},43432,e=>{"use strict";let t=(0,e.i(75254).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);e.s(["Phone",()=>t],43432)},88844,e=>{"use strict";let t=(0,e.i(75254).default)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>t],88844)},83086,e=>{"use strict";let t=(0,e.i(75254).default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);e.s(["Sparkles",()=>t],83086)},31245,e=>{"use strict";let t=(0,e.i(75254).default)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);e.s(["Bot",()=>t],31245)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},15057,e=>{"use strict";let t=(0,e.i(75254).default)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);e.s(["ArrowUpRight",()=>t],15057)},16715,e=>{"use strict";let t=(0,e.i(75254).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>t],16715)},95187,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s={callServer:function(){return i.callServer},createServerReference:function(){return n.createServerReference},findSourceMapURL:function(){return l.findSourceMapURL}};for(var r in s)Object.defineProperty(a,r,{enumerable:!0,get:s[r]});let i=e.r(32120),l=e.r(92245),n=e.r(35326)},14764,e=>{"use strict";let t=(0,e.i(75254).default)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);e.s(["Send",()=>t],14764)},94983,e=>{"use strict";let t=(0,e.i(75254).default)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);e.s(["MessageCircle",()=>t],94983)},43531,e=>{"use strict";let t=(0,e.i(75254).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],43531)},40636,27516,e=>{"use strict";var t=e.i(95187);let a=(0,t.createServerReference)("70123382b1b28ff7b6651829fe7748b5e33f11b69a",t.callServer,void 0,t.findSourceMapURL,"generatePersonalizedMessage");e.s(["generatePersonalizedMessage",()=>a],40636);let s=(0,e.i(75254).default)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);e.s(["History",()=>s],27516)},53592,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(18566),r=e.i(17927),i=e.i(40636),l=e.i(73375),n=e.i(39616),c=e.i(46897),o=e.i(43432),d=e.i(63488),x=e.i(94983),p=e.i(7233),m=e.i(95116),h=e.i(27516),u=e.i(95468),f=e.i(78894),g=e.i(26707),b=e.i(31245),y=e.i(83086),j=e.i(14764),v=e.i(16715),w=e.i(88844),k=e.i(15057),N=e.i(45423),z=e.i(43531),C=e.i(46932),M=e.i(88653);function R(){let e=(0,s.useRouter)(),R=(0,s.useParams)().id,[S,A]=(0,a.useState)(null),[P,I]=(0,a.useState)([]),[E,_]=(0,a.useState)([]),[L,T]=(0,a.useState)(!0),[q,$]=(0,a.useState)(!1),[U,O]=(0,a.useState)("");(0,a.useEffect)(()=>{R&&V()},[R]);let V=async()=>{T(!0);try{let{data:e,error:t}=await r.supabase.from("clients").select("*").eq("id",R).single();if(t)throw t;A(e);let{data:a}=await r.supabase.from("equipment").select("*").eq("client_id",R);I(a||[]);let{data:s}=await r.supabase.from("service_orders").select(`
                    *,
                    equipment (*),
                    technicians (full_name)
                `).eq("client_id",R).order("scheduled_at",{ascending:!1});_(s||[])}catch(e){console.error("Error loading client profile:",e)}finally{T(!1)}},B=async e=>{if(S){$(!0);try{let t=await (0,i.generatePersonalizedMessage)(S.full_name,e);O(t)}catch(e){console.error("Error generating reminder:",e)}finally{$(!1)}}},H=e=>{let t=`https://wa.me/${S?.phone?.replace(/\D/g,"")}?text=${encodeURIComponent(e)}`;window.open(t,"_blank")},W=S?.full_name?.split(" ").map(e=>e[0]).join("").toUpperCase().substring(0,2)||"CL",D=(e=>{if(!e)return{label:"Sin Visitas",color:"text-gray-500",bg:"bg-gray-500/10",icon:h.History};let t=new Date(e),a=new Date,s=(a.getFullYear()-t.getFullYear())*12+(a.getMonth()-t.getMonth());return s>=12?{label:"Vencido",color:"text-rose-500",bg:"bg-rose-500/10",icon:f.AlertTriangle,urgent:!0}:s>=10?{label:"Próximo",color:"text-amber-500",bg:"bg-amber-500/10",icon:f.AlertTriangle,urgent:!1}:{label:"Al día",color:"text-[#00ff9d]",bg:"bg-[#00ff9d]/10",icon:u.CheckCircle2,urgent:!1}})(E[0]?.completed_at||E[0]?.scheduled_at);return L?(0,t.jsxs)("div",{className:"bg-[#050608] min-h-screen flex flex-col items-center justify-center text-white font-sans",children:[(0,t.jsx)("div",{className:"w-12 h-12 border-4 border-primary/30 border-t-primary rounded-full animate-spin mb-4"}),(0,t.jsx)("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] opacity-50",children:"Abriendo Expediente v2.0"})]}):S?(0,t.jsxs)("div",{className:"bg-[#050608] min-h-screen text-white pb-32 max-w-md mx-auto font-sans relative overflow-x-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 left-0 w-full h-[50vh] bg-gradient-to-b from-primary/10 via-[#050608]/5 to-transparent pointer-events-none"}),(0,t.jsxs)("header",{className:"sticky top-0 z-[60] flex items-center justify-between px-6 py-4 bg-[#050608]/80 backdrop-blur-xl border-b border-white/5",children:[(0,t.jsx)(C.motion.button,{whileTap:{scale:.9},onClick:()=>e.back(),className:"size-11 flex items-center justify-center rounded-2xl bg-white/[0.03] border border-white/5 active:bg-white/10",children:(0,t.jsx)(l.ChevronLeft,{className:"text-gray-300",size:24})}),(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("span",{className:"text-[9px] font-black uppercase tracking-[0.4em] text-primary/60",children:"Gestionar"}),(0,t.jsx)("h2",{className:"text-sm font-black uppercase tracking-[0.1em] text-white",children:"Expediente Digital"})]}),(0,t.jsx)(C.motion.button,{whileTap:{scale:.9},onClick:()=>e.push("/settings"),className:"size-11 flex items-center justify-center rounded-2xl bg-white/[0.03] border border-white/5 text-gray-400 hover:text-white",children:(0,t.jsx)(n.Settings,{size:20})})]}),(0,t.jsxs)("main",{className:"relative z-10 px-6 mt-8",children:[(0,t.jsxs)("section",{className:"flex flex-col items-center pb-8 border-b border-white/5",children:[(0,t.jsxs)(C.motion.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"relative",children:[(0,t.jsxs)("div",{className:"size-32 rounded-[3.5rem] bg-gradient-to-br from-primary to-cyan-400 flex items-center justify-center text-5xl font-black text-white shadow-[0_20px_60px_rgba(19,91,236,0.4)] border-4 border-white/10 overflow-hidden relative group",children:[(0,t.jsx)("span",{className:"relative z-10",children:W}),(0,t.jsx)("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity"})]}),D.urgent&&(0,t.jsx)(C.motion.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:1.5},className:"absolute -top-1 -right-1 size-10 rounded-2xl bg-rose-500 border-4 border-[#050608] flex items-center justify-center shadow-lg z-20",children:(0,t.jsx)(N.Bell,{className:"text-white",size:18})}),!D.urgent&&"Al día"===D.label&&(0,t.jsx)("div",{className:"absolute -bottom-2 -right-2 size-10 rounded-2xl bg-emerald-400 border-4 border-[#050608] flex items-center justify-center shadow-lg z-20",children:(0,t.jsx)(u.CheckCircle2,{className:"text-[#050608]",size:18})})]}),(0,t.jsxs)("div",{className:"mt-6 text-center",children:[(0,t.jsx)(C.motion.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-2xl font-black tracking-tight",children:S.full_name}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-2",children:[(0,t.jsxs)("div",{className:`flex items-center gap-1.5 px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest border ${D.bg} ${D.color}`,children:[D.urgent&&(0,t.jsx)("span",{className:"size-1.5 rounded-full bg-rose-500 animate-pulse"}),D.label]}),(0,t.jsx)("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-white/5 border border-white/5 rounded-full text-[9px] font-black uppercase tracking-widest text-gray-500",children:S.category||"REGULAR"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 mt-8 w-full",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-white/[0.02] border border-white/5 rounded-3xl",children:[(0,t.jsx)("div",{className:"size-10 shrink-0 rounded-2xl bg-[#0a0c10] flex items-center justify-center text-primary",children:(0,t.jsx)(c.MapPin,{size:18})}),(0,t.jsxs)("div",{className:"overflow-hidden",children:[(0,t.jsx)("p",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest",children:"Residencia"}),(0,t.jsx)("p",{className:"text-xs font-bold text-gray-400 truncate",children:S.address||"Sin dirección"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-white/[0.02] border border-white/5 rounded-3xl",children:[(0,t.jsx)("div",{className:"size-10 shrink-0 rounded-2xl bg-[#0a0c10] flex items-center justify-center text-emerald-400",children:(0,t.jsx)(g.Smartphone,{size:18})}),(0,t.jsxs)("div",{className:"overflow-hidden",children:[(0,t.jsx)("p",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest",children:"Documento"}),(0,t.jsx)("p",{className:"text-xs font-bold text-gray-400 truncate",children:S.national_id||"N/A"})]})]})]})]}),(0,t.jsxs)("section",{className:"py-8 grid grid-cols-4 gap-3",children:[(0,t.jsxs)(C.motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>H(`Hola ${S.full_name}, le contactamos de ServiHogar...`),className:"col-span-2 flex items-center justify-center gap-3 py-4 bg-emerald-500/10 border border-emerald-500/20 text-emerald-400 rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-emerald-500/5",children:[(0,t.jsx)(x.MessageCircle,{size:20}),"WhatsApp"]}),(0,t.jsx)(C.motion.button,{whileTap:{scale:.9},className:"flex items-center justify-center bg-white/[0.03] border border-white/5 rounded-2xl text-primary active:bg-white/10",children:(0,t.jsx)(o.Phone,{size:20})}),(0,t.jsx)(C.motion.button,{whileTap:{scale:.9},className:"flex items-center justify-center bg-white/[0.03] border border-white/5 rounded-2xl text-primary active:bg-white/10",children:(0,t.jsx)(d.Mail,{size:20})})]}),(0,t.jsxs)("section",{className:"mt-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4 px-1",children:[(0,t.jsxs)("h3",{className:"text-[10px] font-black text-gray-500 uppercase tracking-[0.3em] flex items-center gap-2",children:[(0,t.jsx)(w.Package,{size:14,className:"text-cyan-400"}),"Equipos Registrados"]}),D.urgent&&(0,t.jsx)("span",{className:"bg-rose-500/20 text-rose-500 text-[8px] font-black px-2 py-0.5 rounded-lg animate-pulse border border-rose-500/30",children:"ATENCIÓN REQUERIDA"})]}),(0,t.jsx)("div",{className:"flex gap-4 overflow-x-auto pb-6 no-scrollbar -mx-2 px-2",children:P.length>0?P.map((e,a)=>(0,t.jsxs)(C.motion.div,{initial:{x:30,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1*a},className:"shrink-0 w-[260px] rounded-[3rem] bg-white/[0.02] border border-white/5 p-6 shadow-2xl relative overflow-hidden group",children:[(0,t.jsx)("div",{className:"absolute -right-4 -top-4 opacity-[0.03] pointer-events-none group-hover:scale-125 transition-transform duration-700",children:(0,t.jsx)(m.Wrench,{size:100})}),(0,t.jsx)("div",{className:"size-16 rounded-[1.75rem] bg-primary/10 flex items-center justify-center mb-6 border border-primary/20",children:(0,t.jsx)(m.Wrench,{className:"text-primary",size:32})}),(0,t.jsxs)("h4",{className:"font-black text-white text-lg leading-tight uppercase tracking-tight",children:[e.brand," ",(0,t.jsx)("span",{className:"text-primary",children:e.model})]}),(0,t.jsxs)("p",{className:"text-[10px] text-gray-500 font-black uppercase mt-2 tracking-widest flex items-center gap-2",children:[(0,t.jsx)("div",{className:"size-1 rounded-full bg-gray-700"}),e.type]}),(0,t.jsxs)("div",{className:"mt-8 pt-5 border-t border-white/5 flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-[10px] text-gray-600 font-mono",children:["S/N: ",e.serial_number?.substring(0,8)||"---"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 py-1 px-3 bg-emerald-500/10 rounded-xl text-[9px] font-black text-emerald-400 uppercase tracking-tighter",children:[(0,t.jsx)("span",{className:"size-1.5 rounded-full bg-emerald-400 animate-pulse"}),"ÓPTIMO"]})]})]},e.id)):(0,t.jsxs)("div",{className:"w-full h-40 rounded-[3rem] bg-white/[0.01] border-2 border-dashed border-white/5 flex flex-col items-center justify-center gap-4 opacity-50",children:[(0,t.jsx)(w.Package,{className:"text-gray-700",size:40}),(0,t.jsx)("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-gray-700",children:"Explorar sin equipos"})]})})]}),P.length>0&&(0,t.jsx)(C.motion.section,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mt-6",children:(0,t.jsxs)("div",{className:"bg-gradient-to-br from-primary via-[#041e62] to-[#041e62] rounded-[3rem] p-8 shadow-2xl relative overflow-hidden group border border-white/10",children:[(0,t.jsx)("div",{className:"absolute -top-10 -left-10 size-40 bg-cyan-400/20 rounded-full blur-[80px]"}),(0,t.jsx)("div",{className:"absolute -bottom-10 -right-10 size-40 bg-primary/20 rounded-full blur-[80px]"}),(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:"size-12 rounded-[1.25rem] bg-white/10 flex items-center justify-center backdrop-blur-md border border-white/20 shadow-lg",children:(0,t.jsx)(b.Bot,{size:24,className:"text-white drop-shadow-lg"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-white/60 font-black text-[9px] uppercase tracking-[0.3em]",children:"IA Predictiva v2.0"}),(0,t.jsx)(y.Sparkles,{size:10,className:"text-cyan-400 animate-pulse"})]}),(0,t.jsx)("h4",{className:"text-sm font-bold text-white tracking-tight",children:"Asistente de Retención ServiBot"})]})]}),(0,t.jsxs)("h3",{className:"text-xl font-black text-white mb-4 leading-tight",children:["¿Vender mantenimiento para el ",(0,t.jsx)("span",{className:"text-cyan-400",children:P[0].brand}),"?"]}),(0,t.jsxs)("p",{className:"text-xs text-white/50 mb-8 leading-relaxed font-medium",children:["El sistema detecta que han pasado más de ",(0,t.jsx)("span",{className:"text-white font-bold",children:"10 meses"})," desde el último servicio. Genera un mensaje persuasivo para asegurar la visita."]}),(0,t.jsx)(M.AnimatePresence,{mode:"wait",children:U||q?q?(0,t.jsxs)(C.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full bg-black/20 backdrop-blur-xl rounded-[1.5rem] p-6 flex flex-col items-center justify-center gap-4 border border-white/10",children:[(0,t.jsx)(v.RefreshCw,{className:"text-white animate-spin",size:24}),(0,t.jsx)("span",{className:"text-[10px] text-white font-black uppercase tracking-[0.2em] animate-pulse",children:"ServiBot está pensando..."})]},"load"):(0,t.jsxs)(C.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-black/40 backdrop-blur-xl border border-white/10 rounded-[2.5rem] p-6",children:[(0,t.jsx)("textarea",{className:"w-full bg-transparent text-white text-sm focus:outline-none resize-none leading-relaxed font-medium mb-6 h-28 italic opacity-90",value:U,onChange:e=>O(e.target.value)}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("button",{onClick:()=>H(U),className:"flex-1 bg-emerald-500 text-white font-black py-5 rounded-[1.25rem] text-[10px] uppercase tracking-widest flex items-center justify-center gap-3 shadow-xl shadow-emerald-500/20 active:scale-95 transition-all",children:[(0,t.jsx)(j.Send,{size:18}),"Enviar"]}),(0,t.jsx)("button",{onClick:()=>O(""),className:"size-16 bg-white/10 text-white rounded-[1.25rem] flex items-center justify-center hover:bg-white/20 transition-all border border-white/10",children:(0,t.jsx)(v.RefreshCw,{size:24})})]})]},"msg"):(0,t.jsxs)(C.motion.button,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,scale:.95},onClick:()=>B(P[0].brand),className:"w-full bg-white text-primary text-[10px] font-black py-5 rounded-[1.5rem] flex items-center justify-center gap-3 shadow-2xl hover:bg-cyan-50 transition-colors uppercase tracking-[0.1em]",children:[(0,t.jsx)(y.Sparkles,{size:18}),"Redactar Invitación con IA"]},"btn-gen")})]})]})}),(0,t.jsxs)("section",{className:"mt-12 mb-32",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-8 px-1",children:[(0,t.jsx)("div",{className:"size-8 rounded-[0.75rem] bg-white/5 flex items-center justify-center text-primary border border-white/5",children:(0,t.jsx)(h.History,{size:16})}),(0,t.jsx)("h3",{className:"text-[11px] font-black text-white/50 uppercase tracking-[0.3em]",children:"Cronología de Soporte"})]}),(0,t.jsxs)("div",{className:"space-y-6 relative ml-4",children:[(0,t.jsx)("div",{className:"absolute left-[-17px] top-4 bottom-4 w-px bg-gradient-to-b from-primary via-white/5 to-transparent"}),E.length>0?E.map((a,s)=>{let r="REPARACIÓN"===a.service_type||a.reported_issue?.toLowerCase().includes("falla");return(0,t.jsxs)(C.motion.div,{initial:{x:20,opacity:0},whileInView:{x:0,opacity:1},transition:{delay:.05*s},viewport:{once:!0},onClick:()=>e.push(`/service-orders/${a.id}`),className:"bg-white/[0.02] border border-white/5 rounded-[2.5rem] p-6 hover:border-primary/20 transition-all active:scale-[0.98] cursor-pointer group relative",children:[(0,t.jsx)("div",{className:`absolute left-[-21px] top-8 size-2 rounded-full border-2 border-[#050608] shadow-[0_0_10px_rgba(19,91,236,0.5)] ${r?"bg-orange-500":"bg-primary"}`}),(0,t.jsxs)("div",{className:"flex justify-between items-start mb-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:`size-14 rounded-2xl flex items-center justify-center shadow-inner ${r?"bg-orange-500/10 text-orange-400 border border-orange-500/20":"bg-primary/10 text-primary border border-primary/20"}`,children:r?(0,t.jsx)(m.Wrench,{size:24}):(0,t.jsx)(u.CheckCircle2,{size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-black text-sm text-white uppercase tracking-tight line-clamp-1",children:[a.equipment?.brand||"MARCA"," ",a.equipment?.model]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)("p",{className:"text-[9px] text-gray-600 font-black uppercase tracking-widest italic",children:new Date(a.scheduled_at).toLocaleDateString()}),(0,t.jsx)("div",{className:"size-1 rounded-full bg-gray-800"}),(0,t.jsx)("p",{className:"text-[9px] text-gray-500 font-black uppercase",children:a.equipment?.type||"SOPORTE"})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col items-end",children:[(0,t.jsxs)("div",{className:"flex items-baseline gap-0.5",children:[(0,t.jsx)("span",{className:"text-[8px] font-black text-emerald-400",children:"$"}),(0,t.jsx)("span",{className:"text-base font-black text-white",children:Number(a.total_cost||0).toLocaleString()})]}),(0,t.jsx)("span",{className:`text-[8px] font-black uppercase px-2 py-0.5 rounded-lg border mt-1.5 ${r?"bg-orange-500/10 text-orange-400 border-orange-500/20":"bg-primary/10 text-primary border-primary/20"}`,children:r?"REPARACIÓN":"MANTENIMIENTO"})]})]}),(0,t.jsxs)("div",{className:"bg-[#0a0c10]/50 rounded-2xl p-4 border border-white/5 space-y-3 group-hover:bg-[#0a0c10]/80 transition-colors",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("span",{className:"text-[8px] font-black text-gray-700 uppercase tracking-[0.2em] block mb-1",children:"Resumen Operativo:"}),(0,t.jsxs)("p",{className:"text-[11px] text-gray-400 leading-relaxed italic",children:['"',a.reported_issue||"Servicio de mantenimiento general solicitado por el cliente.",'"']})]}),a.technical_diagnosis&&(0,t.jsxs)("div",{className:"pt-3 border-t border-white/5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 mb-1.5",children:[(0,t.jsx)(z.Check,{size:10,className:"text-emerald-500"}),(0,t.jsx)("span",{className:"text-[8px] font-black text-primary uppercase tracking-[0.2em]",children:"Resolución Técnica"})]}),(0,t.jsx)("p",{className:"text-[11px] text-gray-300 line-clamp-2 leading-relaxed",children:a.technical_diagnosis})]})]}),(0,t.jsx)(k.ArrowUpRight,{className:"absolute bottom-6 right-6 text-white/5 opacity-0 group-hover:opacity-100 transition-all group-hover:translate-x-1 group-hover:-translate-y-1",size:24})]},a.id)}):(0,t.jsxs)("div",{className:"py-20 border-2 border-dashed border-white/5 rounded-[3rem] flex flex-col items-center justify-center gap-4 opacity-30 text-center",children:[(0,t.jsx)(h.History,{size:48,className:"text-gray-700"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[10px] font-black uppercase tracking-widest text-gray-700",children:"Sin registros históricos"}),(0,t.jsx)("p",{className:"text-[8px] font-bold text-gray-800 uppercase mt-1",children:"Inicia la primera orden para este cliente"})]})]})]})]})]}),(0,t.jsx)("div",{className:"fixed bottom-24 left-0 right-0 max-w-md mx-auto px-6 z-[80]",children:(0,t.jsxs)(C.motion.button,{whileHover:{y:-5,boxShadow:"0 20px 40px rgba(19,91,236,0.3)"},whileTap:{scale:.95},onClick:()=>e.push(`/new-service?clientId=${R}`),className:"w-full h-[70px] rounded-[2.5rem] bg-primary text-white font-black text-sm flex items-center justify-center gap-4 shadow-[0_15px_35px_rgba(19,91,236,0.4)] group relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),(0,t.jsx)("div",{className:"size-10 rounded-2xl bg-white/20 flex items-center justify-center group-hover:rotate-90 transition-transform duration-500",children:(0,t.jsx)(p.Plus,{size:24})}),(0,t.jsx)("span",{className:"uppercase tracking-[0.2em] text-xs",children:"Aperturar Orden de Servicio"})]})})]}):(0,t.jsxs)("div",{className:"bg-[#050608] min-h-screen flex flex-col items-center justify-center p-8 text-center text-white font-sans",children:[(0,t.jsx)(f.AlertTriangle,{className:"text-rose-500 size-16 mb-4 opacity-50"}),(0,t.jsx)("h3",{className:"text-xl font-black mb-2",children:"Cliente no encontrado"}),(0,t.jsx)("button",{onClick:()=>e.push("/clients"),className:"mt-4 text-primary font-black uppercase text-[10px] tracking-widest",children:"Volver a Clientes"})]})}e.s(["default",()=>R])}]);